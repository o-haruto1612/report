## 2. ビルド・デバッグの方法

今回のビルドではVScodeのdevcontainerの拡張機能を用いてビルドを行いました。
手順は以下のとおりです。
#### 1. Dockerのインストール
Dockerをまず簡単に説明すると、Mastodonを起動するためには仮想サーバーを立てる必要があります。今回後に明らかになりますが、Dockerを用いて仮想サーバーを立てることで簡単にMastodonを起動することができます。Dockerのインストールは以下のとおりです。

$ sudo su -
# apt update
# apt install -y docker.io

と書くことでドッカーをインストールすることができます。このときにそのまま実行しようとすると、root権限が要求される可能性があります。その際には以下の通りに書いて実行してください。

# sudo usermod -aG docker your_username
# sudo systemctl restart docker

#### 2. mastodonのOSSのダウンロード

以上まで終わったらmastodonのオープンソースをダウンロードしてきましょう。Mastodonのオープンソースはgithubにおいてあります。リンクはこちら[https://github.com/mastodon/mastodon]

ここに写真を挿入

ページの緑になっているボタンをクリックするとLocalとCodespaceの選択肢が出てきます。どちらでも共同作業をすることはできますが、今回はVScodeを用いるので、Localの方を選択し、HTTPSのところからリンクを取得します。githubにあるフォルダのように共同作業するためにおいてあるフォルダのことをリモートリポジトリといいます。対して、個人で作業するために自分のパソコンにダウンロードしてきたものをローカルリポジトリといいます。

作業している個人がすべてgithub上に存在するファイルに書き込んでしまうと、変更が干渉しあってしまうことが考えられるためこのように作業します。

以下に作業する際に出てくる用語を説明しておきます。

クローン(clone)
:リモートリポジトリからローカル(自分のパソコン)に持ってくること（ダウンロードとほぼ同じ）その際のコマンドは、

#git clone <ダウンロードするリンク>

先に緑のボタンをクリックして取得したリンクを使うとmastodonのOSSをローカルに持ってくることができます。

ステージ(stage)
ローカルのファイルに変更を加えたときにどの変更をリモートリポジトリに上げるのか選ぶことができます。その際のコマンドが

#git add <選びたいファイル>

もしすべての変更をステージしたいのであれば<選びたいファイル>を「.」（コンマ）に置き換えると可能です。

コミット(commit)
ステージしたいものをステージしたらその変更をコミットすることでリモートリポジトリにあげることができます。その際のコマンドは、

#git commit -m "好きなコメント"

しかしステージとコミットだけでは本体に変更を加えることになるのでもとに戻すことができなくなってしまいます。

ブランチ(branch)
このときに登場するのがブランチというものです。ブランチについては良いページがあるのでここ[]を参照してください。

#### 3.devcontainerでmastodonを立ち上げる。